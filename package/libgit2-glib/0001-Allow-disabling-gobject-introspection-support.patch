From 50b5643a17bfa4f4aaa2111fccebd1c1c19873cd Mon Sep 17 00:00:00 2001
From: Eric Le Bihan <eric.le.bihan.dev@free.fr>
Date: Sat, 9 Apr 2016 15:44:06 +0200
Subject: [PATCH 1/2] Allow disabling gobject-introspection support

Replace GOBJECT_INTROSPECTION_REQUIRE with GOBJECT_INTROSPECTION_CHECK
to allow passing "--disable-gobject-introspection" when configuring.

Signed-off-by: Eric Le Bihan <eric.le.bihan.dev@free.fr>
---
 configure.ac | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/configure.ac b/configure.ac
index 3a39a5b..3ba9407 100644
--- a/configure.ac
+++ b/configure.ac
@@ -65,13 +65,12 @@ PKG_CHECK_MODULES(LIBGIT2_GLIB, [
 	glib-2.0 >= $GLIB_REQUIRED
 	gio-2.0 >= $GLIB_REQUIRED
 	libgit2 >= $GIT2_REQUIRED
-	gobject-introspection-1.0 >= $INTROSPECTION_REQUIRED
 ])
 
 LIBGIT2_INCLUDE_DIR=$($PKG_CONFIG --variable=includedir libgit2)
 LIBGIT2_GLIB_CFLAGS="${LIBGIT2_GLIB_CFLAGS} -I$LIBGIT2_INCLUDE_DIR"
 
-GOBJECT_INTROSPECTION_REQUIRE($INTROSPECTION_REQUIRED)
+GOBJECT_INTROSPECTION_CHECK($INTROSPECTION_REQUIRED)
 
 AC_SUBST(INTROSPECTION_REQUIRED)
 AC_SUBST(GLIB_REQUIRED)
-- 
2.4.11

